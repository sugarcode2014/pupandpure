<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pup & Pure ‚Äî All‚ÄëNatural Dog Bakery</title>
  <style>
    :root{
      --bg: #fbf9f4;        /* soft off-white */
      --ink: #2e2a27;       /* dark brown */
      --muted:#6a5f55;      /* medium brown */
      --leaf:#6fa36a;       /* soft green */
      --leaf-dark:#4f8651;  /* darker green */
      --tan:#e9dccf;        /* light tan */
      --card:#ffffff;       /* white */
      --ring:#e7e0d7;       /* subtle border */
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";background:var(--bg);color:var(--ink);line-height:1.6}
    a{color:var(--leaf-dark);text-decoration:none}
    .container{width:min(1120px,92%);margin:0 auto}

    /* Header */
    .header{position:sticky;top:0;z-index:60;background:linear-gradient(180deg,rgba(255,255,255,.95),rgba(255,255,255,.9));backdrop-filter:saturate(1.2) blur(6px);border-bottom:1px solid var(--ring)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:12px 0}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800;letter-spacing:.4px}
    .brand-logo {
  width: 75px;         /* choose a size */
  height: 68px;        /* must match width for a perfect circle */
  border-radius: 50%;   /* makes it circular */
  object-fit: cover;    /* fills the circle without distortion */
  display: block;       /* removes inline-gap issues */
}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;background:var(--leaf);color:#fff;border:1px solid transparent;padding:10px 16px;border-radius:999px;font-weight:700;cursor:pointer;box-shadow:0 8px 22px rgba(95,135,97,.25)}
    .btn:hover{background:var(--leaf-dark)}
    .btn.ghost{background:#fff;color:var(--ink);border:1px solid var(--ring);box-shadow:none}

    /* Carousel */
    .hero{position:relative}
    .carousel{position:relative;overflow:hidden;border-bottom:1px solid var(--ring)}
    .slides{display:flex;transition:transform .6s ease}
    .slide{min-width:100%;position:relative;height:clamp(360px,55vw,560px);display:flex;align-items:center}
    .slide::before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,rgba(47,44,38,.65) 0%, rgba(47,44,38,.35) 40%, rgba(47,44,38,.1) 70%, rgba(47,44,38,0) 100%)}
    .slide-bg{position:absolute;inset:0;background-size:cover;background-position:center}
    .slide-content{position:relative;z-index:2;width:min(1120px,92%);margin:0 auto;color:#fff}
    .eyebrow{display:inline-block;font-size:.9rem;color:#13035f;background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.35);padding:6px 10px;border-radius:999px;margin-bottom:10px}
    .title{font-size:clamp(2rem,4.4vw,3.2rem);line-height:1.12;margin:0 0 12px;text-shadow:0 2px 14px rgba(0,0,0,.35)}
    .lead{font-size:1.1rem;color:#f2ebe2;margin:0 0 18px;max-width:740px;text-shadow:0 1px 10px rgba(0,0,0,.25)}
    .lead_dark{font-size:1.1rem;color:#f3036b;margin:0 0 18px;max-width:740px;text-shadow:0 1px 10px rgba(12, 12, 12, 0.25)}
    .cta-row{display:flex;gap:12px;flex-wrap:wrap}

    /* Controls */
    .controls{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;pointer-events:none}
    .ctrl-btn{pointer-events:auto;width:42px;height:42px;border-radius:999px;border:1px solid rgba(255,255,255,.6);background:rgba(255,255,255,.92);backdrop-filter:blur(6px);display:grid;place-items:center;margin:0 10px;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,.12)}
    .ctrl-btn:hover{background:#fff}
    .dots{position:absolute;bottom:14px;left:50%;transform:translateX(-50%);display:flex;gap:8px;padding:6px 10px;background:rgba(255,255,255,.85);border:1px solid rgba(0,0,0,.08);border-radius:999px;box-shadow:0 10px 20px rgba(0,0,0,.08)}
    .dot{width:8px;height:8px;border-radius:50%;background:#d8d1c7;border:none;cursor:pointer}
    .dot.active{background:var(--leaf)}

    /* Sections */
    .section{padding:56px 0}
    .section h2{margin:0 0 10px;text-align:center;font-size:clamp(1.5rem,3vw,2.1rem)}
    .section p.lead.center{max-width:740px;margin:0 auto 24px;text-align:center;color:var(--muted)}
    .features{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .card{background:#fff;border:1px solid var(--ring);border-radius:16px;padding:18px;box-shadow:0 10px 24px rgba(32,24,18,.05)}
    .feat{display:grid;grid-template-columns:56px 1fr;gap:12px;align-items:start}
    .icon{width:56px;height:56px;border-radius:12px;display:grid;place-items:center;font-size:24px;background:linear-gradient(180deg,#eaf3ea,#f4faf4);color:#2e6f33;border:1px solid #dbe8db}

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .product img{width:100%;height:180px;object-fit:cover;border-radius:14px;border:1px solid var(--ring)}
    .product .meta{display:flex;align-items:center;justify-content:space-between;padding:12px 4px 2px}

    footer{border-top:1px solid var(--ring);background:#fff;padding:22px 0;color:var(--muted)}
    .foot-grid{display:grid;grid-template-columns:1fr auto;gap:16px;align-items:center}

    .bubble-banner {
  display: flex;
  justify-content: center;
  align-items: center;
  background: #f8fafc;
  color: #b91c1c;
  border-radius: 2em;
  padding: 0.75em 2em;
  margin: 1.5em auto 2em auto;
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  font-size: 1.1em;
  font-weight: 600;
  max-width: 420px;
  border: 2px solid #fde68a;
}

.lights-banner-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 2em;
}

.christmas-lights {
  display: flex;
  justify-content: center;
  list-style: none;
  padding: 0;
  margin: 0 0 0.5em 0;
  gap: 0.7em;
}

.christmas-lights li {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: red;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  animation: blink 1.2s infinite;
}

.christmas-lights li:nth-child(2) { background: #34d399; animation-delay: 0.2s; } /* green */
.christmas-lights li:nth-child(3) { background: #f87171; animation-delay: 0.4s; } /* yellow */
.christmas-lights li:nth-child(4) { background: #34d399; animation-delay: 0.6s; } /* blue */
.christmas-lights li:nth-child(5) { background: #f87171; animation-delay: 0.8s; } /* pink */
.christmas-lights li:nth-child(6) { background: #34d399; animation-delay: 1.0s; } /* red */
.christmas-lights li:nth-child(7) { background: #f87171; animation-delay: 1.2s; } /* green */
.christmas-lights li:nth-child(8) { background: #34d399; animation-delay: 1.4s; } /* yellow */
.christmas-lights li:nth-child(9) { background: #f87171; animation-delay: 1.6s; } /* blue */
.christmas-lights li:nth-child(10) { background: #34d399; animation-delay: 1.8s; } /* pink */

@keyframes blink {
  0%, 100% { opacity: 1; filter: brightness(1.2);}
  50% { opacity: 0.4; filter: brightness(0.7);}
}

/* Bubble banner from previous answer */
.bubble-banner {
  display: flex;
  justify-content: center;
  align-items: center;
  background: #f8fafc;
  color: #b91c1c;
  border-radius: 2em;
  padding: 0.75em 2em;
  margin: 0 auto;
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  font-size: 1.1em;
  font-weight: 600;
  max-width: 420px;
  border: 2px solid #fde68a;
}

    @media (max-width: 980px){
      .lead{max-width:100%}
      .features,.grid{grid-template-columns:1fr 1fr}
    }
    @media (max-width: 640px){
      .features,.grid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container nav">
      <div class="brand">
      <div>
       <img src="images/logo.png" alt="Brand Logo" class="brand-logo" />
      </div>
        Pup & Pure Bakery
      </div>
      <nav>
        <a class="btn ghost" href="#menu">Menu</a>
        <a class="btn" href="order.html">Order</a>
      </nav>
    </div>
  </header>

  <!-- Hero: Background-graphic Carousel -->
  <section class="hero" aria-label="Featured highlights">
    <div class="carousel" id="carousel">
      <div class="slides" id="slides">
        <!-- Slide 1: All-natural ingredients -->
        <section class="slide" role="group" aria-roledescription="slide" aria-label="1 of 3 ‚Äî All‚Äënatural ingredients">
          <div class="slide-bg" style="background-image:url('images/natural.jfif');"></div>
          <div class="slide-content">
            <span class="eyebrow">100% Natural ‚Ä¢ Human‚ÄëGrade</span>
            <h1 class="title">Pure ingredients for pure joy</h1>
            <p class="lead">We bake with simple, recognizable ingredients like pumpkin, peanut butter, and blueberries. No fillers, colors, or preservatives‚Äîever.</p>
            <div class="cta-row">
              <a class="btn" href="order.html">Order Now</a>
              <a class="btn ghost" href="about.html">Our Story</a>
            </div>
          </div>
        </section>
        <!-- Slide 2: Small-batch, made to order -->
        <section class="slide" role="group" aria-roledescription="slide" aria-label="2 of 3 ‚Äî Small batch, made to order">
          <div class="slide-bg" style="background-image:url('images/smallBatch.png');"></div>
          <div class="slide-content">
            <span class="eyebrow">Handcrafted ‚Ä¢ Baked Fresh</span>
            <h1 class="title">Small batches, made to order</h1>
            <p class="lead">Each batch is mixed, shaped, and baked with care so your treats arrive fresh and full of flavor. Better taste, better texture, happier pups.</p>
            <div class="cta-row">
              <a class="btn" href="order.html">Order Now</a>
              <a class="btn ghost" href="#menu">View Full Menu</a>
            </div>
          </div>
        </section>
        <!-- Slide 3: Menu highlight -->
        <section class="slide" role="group" aria-roledescription="slide" aria-label="3 of 3 ‚Äî Menu highlights">
          <div class="slide-bg" style="background-image:url('images/party.png');"></div>
          <div class="slide-content">
            <span class="eyebrow">Fan Favorites</span>
            <h1 class="title">Great for Celebrations</h1>
            <p class="lead" >Explore our most‚Äëloved menu items - perfect for celebrations, training, and everyday treats.</p>

            <div class="cta-row">
              <a class="btn" href="order.html">Order Now</a>
              <a class="btn ghost" href="#menu">View Full Menu</a>
            </div>
          </div>
        </section>
      </div>

      <!-- Controls -->
      <div class="controls" aria-hidden="false">
        <button class="ctrl-btn" id="prev" aria-label="Previous slide">‚Äπ</button>
        <button class="ctrl-btn" id="next" aria-label="Next slide">‚Ä∫</button>
      </div>
      <div class="dots" id="dots" aria-label="Slide indicators"></div>
    </div>
  </section>

  <!-- Why Pup & Pure -->
  <section class="section" id="about">
    <div class="container">
      <h2>Here at Pup & Pure Bakery</h2>
      <p class="lead center">We keep it simple and pure: all-natural ingredients, hand crafted in our kitchen. We think every dog deserves fresh homemade goodness.</p>
      <div class="features">
        <div class="card feat"><div class="icon">üåø</div><div><h3 style="margin:4px 0 6px">100% Natural</h3><p style="margin:0">Only simple healthy ingredients.</p></div></div>
        <div class="card feat"><div class="icon">ü•£</div><div><h3 style="margin:4px 0 6px">Small Batches</h3><p style="margin:0">Made fresh to order from our kitchen.</p></div></div>
        <div class="card feat"><div class="icon">üèòÔ∏è</div><div><h3 style="margin:4px 0 6px">Support Local</h3><p style="margin:0">Cape Breton owned and operated.</p></div></div>
      </div>
    </div>
  </section>
<div class="lights-banner-wrapper">
  <ul class="christmas-lights">
    <li></li><li></li><li></li><li></li><li></li>
    <li></li><li></li><li></li><li></li><li></li>
  </ul>
  <div class="bubble-banner">
    <span>üéÑ Coming Dec 1 ‚Äì Christmas Woofies and Pupcakes! üéÅ</span>
  </div>
</div>
  <!-- Menu -->
  <section class="section" id="menu">
    <div class="container">
      <h2>Fresh From Our Oven</h2>
      <p class="lead center">Choose from our selection of handcrafted baked goods</p>
<div class="grid">
  <article class="card product">
    <img src="images/baked.jpg" alt="Pumpkin Woofies" />
    <div class="meta">
      <strong>Pumpkin Woofies</strong>
      <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">$5.00 bag</span>
    </div>
    <div class="description">Gut-friendly pumpkin and yummy peanut butter.</div>
    <div class="ingredients">
      <strong>Ingredients:</strong>
      <ul>
        <li>Whole wheat flour</li>
        <li>No sugar added pumpkin</li>
        <li>Unsweetened apple sauce</li>
        <li>All-natural peanut butter</li>
        <li>Baking powder</li>
      </ul>
      <span> <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">6 pack</span></span>
    </div>
    <div class="storage">
      <strong>Storage:</strong> Lasts 5-7 days unrefrigerated. Refrigerate for extended freshness or freeze for later use.
    </div>
  </article>

  <article class="card product">
    <img src="images/woof.jpg" alt="Wild-Blueberry Woofies" />
    <div class="meta">
      <strong>Wild-Blueberry Woofies</strong>
      <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">$5.00 bag</span>
    </div>
    <div class="description">Wild Canadian blueberries are full of antioxidants.</div>
    <div class="ingredients">
      <strong>Ingredients:</strong>
      <ul>
        <li>Whole wheat flour</li>
        <li>Wild Canadian blueberries</li>
        <li>Banana</li>
        <li>Extra-virgin olive oil</li>
        <li>Baking powder</li>
      </ul>
      <span> <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">6 pack</span></span>
    </div>
    <div class="storage">
      <strong>Storage:</strong> Lasts 5-7 days unrefrigerated. Refrigerate for extended freshness or freeze for later use.
    </div>
  </article>

  <article class="card product">
    <img src="images/pupcake.jpg" alt="Pupcakes" />
    <div class="meta">
      <strong>Pupcakes</strong>
      <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">$5.00 box</span>
    </div>
    <div class="description">Perfect for special occasions, pupcakes are surprisingly healthy.</div>
    <div class="ingredients">
      <strong>Ingredients:</strong>
      <ul>
        <li>Whole wheat flour</li>
        <li>Bananas</li>
        <li>Water</li>
        <li>Natural peanut butter</li>
        <li>Unsweetened apple sauce</li>
        <li>Honey</li>
        <li>Extra-virgin olive oil</li>
        <li>Baking powder</li>
      </ul>
      <strong>Frosting:</strong> Greek yogurt, natural peanut butter
      <span> <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">4 pack</span></span>
          <div class="storage">
      <strong>Storage:</strong> Keep refrigerated up to 5 days or freeze for later use.
    </div>
    </div>
  </article>

  <article class="card product">
    <img src="images/baked.jpg" alt="Carrot Apple Woofies" />
    <div class="meta">
      <strong>Carrot Apple Woofies</strong>
      <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">$5.00 bag</span>
    </div>
    <div class="description">Carrots are packed with vitamins and support gut and eye health.</div>
    <div class="ingredients">
      <strong>Ingredients:</strong>
      <ul>
        <li>Whole wheat flour</li>
        <li>Carrots</li>
        <li>Unsweetened apple sauce</li>
        <li>Extra-virgin olive oil</li>
        <li>Baking powder</li>
      </ul>
      <span> <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">6 pack</span></span>
    </div>
    <div class="storage">
      <strong>Storage:</strong> Lasts 5-7 days unrefrigerated. Refrigerate for extended freshness or freeze for later use.
    </div>
  </article>

  <article class="card product">
    <img src="images/donuts.jpg" alt="Doggy Donuts" />
    <div class="meta">
      <strong>Doggy Donuts</strong>
      <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">$5.00 box</span>
    </div>
    <div class="description">Great for special occasions, these full-size donuts are surprisingly healthy.</div>
    <div class="ingredients">
      <strong>Ingredients:</strong>
      <ul>
        <li>Whole wheat flour</li>
        <li>Oats</li>
        <li>Unsweetened apple sauce</li>
        <li>Pumpkin</li>
        <li>Extra-virgin olive oil</li>
        <li>Baking powder</li>
      </ul>
      <strong>Frosting:</strong> Greek yogurt, natural peanut butter
      <span> <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">2 pack</span></span>
    </div>
    <div class="storage">
      <strong>Storage:</strong> Keep refrigerated up to 5 days or freeze for later use.
    </div>
  </article>

  <article class="card product">
    <img src="images/cake.jpg" alt="Pupday Cake" />
    <div class="meta">
      <strong>Pupday Cake</strong>
      <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">$12.00</span>
    </div>
    <div class="description">Perfect for special occasions, this full-size cake is surprisingly healthy.</div>
    <div class="ingredients">
      <strong>Ingredients:</strong>
      <ul>
        <li>Whole wheat flour</li>
        <li>Unsweetened apple sauce</li>
        <li>Bananas</li>
        <li>Extra-virgin olive oil</li>
        <li>Honey</li>
        <li>Baking powder</li>
        <li>Natural peanut butter</li>
      </ul>
      <strong>Frosting:</strong> Greek yogurt, natural peanut butter
      <span> <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">8 inch</span></span>
    </div>
    <div class="storage">
      <strong>Storage:</strong> Keep refrigerated up to 5 days or freeze for later use.
    </div>
  </article>

  <article class="card product">
    <img src="images/miniwoofies.jpg" alt="Mini Pumpkin Woofies" />
    <div class="meta">
      <strong>Mini Pumpkin Woofies</strong>
      <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">$5.00 bag</span>
    </div>
    <div class="description">Great for training and smaller dogs.</div>
    <div class="ingredients">
      <strong>Ingredients:</strong>
      <ul>
        <li>Whole wheat flour</li>
        <li>No sugar added pumpkin</li>
        <li>Unsweetened apple sauce</li>
        <li>All-natural peanut butter</li>
        <li>Baking powder</li>
      </ul>
      <span> <span class="eyebrow" style="border-color:var(--ring);color:var(--muted)">24 pack</span></span>
    </div>
    <div class="storage">
      <strong>Storage:</strong> Lasts 5-7 days unrefrigerated. Refrigerate for extended freshness or freeze for later use.
    </div>
  </article>
</div>

    
      
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container foot-grid">
      <div>¬© <span id="year"></span> Pup & Pure ‚Äî All‚Äënatural dog bakery</div>
      <div><a href="about.html">About</a> ‚Ä¢ <a href="#menu">Menu</a> ‚Ä¢ <a href="order.html">Order</a></div>
    </div>
  </footer>

<script>
  // Footer year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Newsletter mock
  function subscribe(){
    const e=document.getElementById('email');
    const msg=document.getElementById('msg');
    if(!e.checkValidity()){e.reportValidity();return}
    msg.textContent="Thanks! You're on the list.";
    e.value='';
  }

  // Simple Carousel
  (function(){
    const slidesWrap = document.getElementById('slides');
    const total = slidesWrap.children.length;
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    const dots = document.getElementById('dots');
    let index = 0; let timer;

    function go(i){
      index = (i + total) % total;
      slidesWrap.style.transform = `translateX(-${index*100}%)`;
      updateDots();
      restart();

      // ADDED: expose current index so touch script can read it
      window.__carouselIndex = index;
      // ADDED: notify touch script (if it defined a setter) to keep in sync
      window.__carouselSetIndex && window.__carouselSetIndex(index);
    }

    // ADDED: expose go() so touch script can call it
    window.__carouselGo = go;

    function updateDots(){
      dots.innerHTML='';
      for(let d=0; d<total; d++){
        const b=document.createElement('button');
        b.className='dot'+(d===index?' active':'');
        b.setAttribute('aria-label',`Go to slide ${d+1}`);
        b.onclick=()=>go(d);
        dots.appendChild(b);
      }
    }
    function restart(){
      clearInterval(timer);
      timer=setInterval(()=>go(index+1),6500);
    }
    prev.addEventListener('click',()=>go(index-1));
    next.addEventListener('click',()=>go(index+1));
    slidesWrap.parentElement.addEventListener('mouseenter',()=>clearInterval(timer));
    slidesWrap.parentElement.addEventListener('mouseleave',restart);
    slidesWrap.parentElement.tabIndex=0;
    slidesWrap.parentElement.addEventListener('keydown',(e)=>{if(e.key==='ArrowLeft')go(index-1);if(e.key==='ArrowRight')go(index+1)});

    updateDots();
    restart();
  })();
</script>

  <script>
  // Touch swipe support for carousel
  (function() {
    const slidesWrap = document.getElementById('slides');
    if (!slidesWrap) return;

    const total = slidesWrap.children.length;
    const dots = document.getElementById('dots');
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');

    // Reuse the existing go() if available; otherwise define a local one
    let index = 0;
    const hasGo = typeof window.__carouselGo === 'function';
    function goLocal(i){
      index = (i + total) % total;
      slidesWrap.style.transform = `translateX(-${index*100}%)`;
      // Update dots if present
      if (dots) {
        dots.querySelectorAll('.dot').forEach((d, di) => {
          d.classList.toggle('active', di === index);
        });
      }
    }

    // Capture index changes from your existing carousel
    // If your existing IIFE sets a timer and go() internally, expose hooks:
    // Optionally, you can set window.__carouselSetIndex(index) in your main script.

    // Touch handlers
    let startX = 0, currentX = 0, isTouching = false, moved = false;
    const threshold = 40; // px swipe to trigger

    function onTouchStart(e) {
      const t = e.touches ? e.touches[0] : e;
      isTouching = true; moved = false;
      startX = currentX = t.clientX;
      slidesWrap.style.transition = 'none';
    }

    function onTouchMove(e) {
      if (!isTouching) return;
      const t = e.touches ? e.touches[0] : e;
      currentX = t.clientX;
      const dx = currentX - startX;
      // Apply a small drag effect (optional)
      slidesWrap.style.transform = `translateX(calc(-${(index||0)*100}% + ${dx}px))`;
      moved = Math.abs(dx) > 4;
      // Prevent horizontal browser gestures from interfering
      if (Math.abs(dx) > 6) e.preventDefault();
    }

    function onTouchEnd() {
      if (!isTouching) return;
      isTouching = false;
      slidesWrap.style.transition = 'transform .6s ease';
      const dx = currentX - startX;

      if (dx > threshold) {
        // swipe right -> go to previous
        if (typeof window.__carouselGo === 'function') window.__carouselGo((window.__carouselIndex||0) - 1);
        else goLocal(index - 1);
      } else if (dx < -threshold) {
        // swipe left -> next
        if (typeof window.__carouselGo === 'function') window.__carouselGo((window.__carouselIndex||0) + 1);
        else goLocal(index + 1);
      } else {
        // snap back
        if (typeof window.__carouselGo === 'function') window.__carouselGo(window.__carouselIndex||0);
        else goLocal(index);
      }
    }

    const root = document.getElementById('carousel');
    const target = root || slidesWrap.parentElement;

    // Use passive:false so we can call preventDefault in move
    target.addEventListener('touchstart', onTouchStart, { passive: true });
    target.addEventListener('touchmove', onTouchMove, { passive: false });
    target.addEventListener('touchend', onTouchEnd, { passive: true });

    // Optional: mouse drag for desktop parity
    let mouseDown = false;
    target.addEventListener('mousedown', (e)=>{ mouseDown = true; onTouchStart(e); });
    window.addEventListener('mousemove', (e)=>{ if(mouseDown) onTouchMove(e); });
    window.addEventListener('mouseup', ()=>{ if(mouseDown){ mouseDown=false; onTouchEnd(); } });

    // Expose a minimal API for the existing script to sync index (optional)
    window.__carouselSetIndex = function(i){ index = i; };
    // ADDED: expose go for touch script
    window.__carouselGo = go;
  })();
</script>
</body>
</html>
